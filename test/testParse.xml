<?xml version="1.0" encoding="UTF-8"?>
<tests>
    <test>
        <description>Structure array</description>
        <matlab>{'foo'}</matlab>
        <schema></schema>
        <json>["foo"]</json>
    </test>
    <test>
        <description>AllOf</description>
        <matlab>struct('id', '4711', 'foo', 2, 'bar', 'DEF_VAL')</matlab>
        <schema>
            {
                "$ref": "BASE_URI/schema2.json"
            }
        </schema>
        <json>
            {
                "id":"4711",
                "foo":2
            }
        </json>
    </test>
    <test>
        <description>Structured Array with Defaults</description>
        <matlab>struct('foo', {1 2}, 'bar', {3 4})</matlab>
        <json>
            [ { "foo": 1 }, { "foo": 2, "bar": 4 } ]
        </json>
        <schema>
            {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "foo": {},
                        "bar": { "type": "number", "default": 3 }
                    }
                }
            }
        </schema>
    </test>
    <test>
        <description>Dictionary with Defaults</description>
        <matlab>
            a = containers.Map();
            a('1') = struct('foo', 1, 'bar', 3);
            a('2') = struct('foo', 2, 'bar', 4);
        </matlab>
        <json>
            { 
                "1": { "foo": 1 }, 
                "2": { "foo": 2, "bar": 4 }
            }
        </json>
        <schema>
            {
                "type": "object",
                "format": "Map",
                "patternProperties": {
                    ".*": {
                        "type": "object",
                        "properties": {
                            "foo": {},
                            "bar": { "type": "number", "default": 3 }
                        }
                    }
                }
            }
        </schema>
    </test>
    <test>
        <description>Non-MATLAB Keys</description>
        <json>{ "Hello": "World", "$ref": 2 }</json>
        <matlab>struct('Hello', 'World')</matlab>
    </test>
</tests>
